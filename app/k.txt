@login_required
def comment_item(request, item_id):
    item = get_object_or_404(Item, pk=item_id)
    user = request.user

    if request.method == 'POST':
        comment_text = request.POST.get('text')
        comment = Comment(user=user, item=item, text=comment_text)
        comment.save()

        response_data = {'success': True}
        return JsonResponse(response_data)

    # GETリクエストの場合は既存のコメントを返す
    comments = Comment.objects.filter(item=item).order_by('-created_at')
    comment_list = []
    for comment in comments:
        comment_list.append({
            'user_name': comment.user.username,
            'comment_text': comment.text,
            'created_at': comment.created_at.strftime('%Y-%m-%d %H:%M:%S')
        })
    response_data = {'comments': comment_list}
    return JsonResponse(response_data)

<form id="comment-form">
  <input type="text" id="comment-input" placeholder="コメントを入力してください">
  <button type="submit">コメントする</button>
</form>

<div id="comment-list">
  <!-- コメントが追加される部分 -->
</div>

<script>
  // Ajax関連のJavaScriptコードをここに記述する
</script>